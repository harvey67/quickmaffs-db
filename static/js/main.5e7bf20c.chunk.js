(this["webpackJsonpquickmaffs-db"]=this["webpackJsonpquickmaffs-db"]||[]).push([[0],{28:function(e,t,n){e.exports=n(46)},33:function(e,t,n){},34:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),l=n.n(c),o=(n(33),n(23)),u=n(24),s=n(26),i=n(27),m=(n(34),n(7)),d=n(1),b=n(2),E=n.n(b),p=n(6),f=n(5),h=n(14),g=n.n(h);n(36),n(40);g.a.initializeApp({apiKey:"AIzaSyAHN7qi76sqh-ZHSlAGryJEbTvxcsvFJaY",authDomain:"user-database-test-9ee1d.firebaseapp.com",databaseURL:"https://user-database-test-9ee1d.firebaseio.com",projectId:"user-database-test-9ee1d",storageBucket:"user-database-test-9ee1d.appspot.com",messagingSenderId:"425239506606",appId:"1:425239506606:web:decf3cc0780d2d8e9d073f"});var y=g.a,I=function(){var e=0,t=Object(a.useState)(""),n=Object(f.a)(t,2),c=n[0],l=n[1],o=Object(a.useRef)(null);function u(){return Math.floor(10*Math.random())+1}function s(){document.querySelectorAll(".workspace")[0].style.display="block",document.getElementById("userAnswerID").value="",document.getElementById("submitAnswerID").disabled=!1,document.getElementById("nextBtnID").style.display="none";var t=u(),n=u();e=t*n,console.log("correct answer is "+e);var a="what is "+t+" x "+n+" = ";document.getElementById("questionStringID").innerHTML=a}function i(){return(i=Object(p.a)(E.a.mark((function t(){var n,a,r,l,o,u,s,i;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=document.getElementById("userAnswerID").value,console.log("user answer is "+n),a=String(e),r=0,a===n?(console.log("YOU ARE CORRECT"),r=1):console.log("DUMBCUNT"),document.getElementById("submitAnswerID").disabled=!0,document.getElementById("nextBtnID").style.display="block",l=[],t.next=10,y.firestore().collection("math-user-db").where("email","==",c).get().then((function(e){console.log("working"),e.docs.forEach((function(e){l.push(e.data().user_id)}))}));case 10:if(!(l.length>1)){t.next=15;break}console.log("error: we have multiple of that email"),console.log(l),t.next=28;break;case 15:return o=l[0],u=0,t.next=19,y.firestore().collection("math-question-db").get().then((function(e){u=e.size}));case 19:u+=1,s=a,i=n,console.log("the user_id is "+o),console.log("the question_id is "+u),console.log("the correct_answer is "+s),console.log("the user_answer is "+i),console.log("the result is "+r),y.firestore().collection("math-question-db").add({question_id:u,user_id:o,correct_answer:s,user_answer:i,result:r}).then((function(){}));case 28:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){return o.current=!0,y.auth().onAuthStateChanged((function(e){e?o.current&&(l(e.email),s()):o.current&&(l(""),document.querySelectorAll(".workspace")[0].style.display="none")})),function(){return o.current=!1}})),r.a.createElement("div",{className:"Home"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h1",null,"Home page"),r.a.createElement("div",{className:"workspace",style:{display:"none"}},r.a.createElement("p",{id:"questionStringID"}),r.a.createElement("input",{id:"userAnswerID",autoComplete:"off"}),r.a.createElement("button",{id:"submitAnswerID",onClick:function(){return i.apply(this,arguments)}},"submit"),r.a.createElement("button",{id:"nextBtnID",onClick:s,style:{display:"none"}},"next")))},w=function(){function e(){return(e=Object(p.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.auth().signOut().then((function(){console.log("user is signed out")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){y.auth().onAuthStateChanged((function(e){e?(document.getElementById("UserDetails").style.display="block",document.getElementById("UserDetails").innerHTML=e.email):(document.getElementById("UserDetails").style.display="none",document.getElementById("UserDetails").innerHTML="")}))})),r.a.createElement("div",{className:"Nav"},r.a.createElement("li",{className:"LinkBtn"},r.a.createElement(m.b,{to:"/"},"Home")),r.a.createElement("li",{className:"LinkBtn"},r.a.createElement(m.b,{to:"/Dashboard"},"Dashboard")),r.a.createElement("li",{className:"LinkBtn"},r.a.createElement(m.b,{to:"/CreateAccount"},"Create Account")),r.a.createElement("li",{className:"LinkBtn"},r.a.createElement(m.b,{to:"/Login"},"Login")),r.a.createElement("li",{className:"LinkBtn"},r.a.createElement("button",{id:"LogoutBtnID",onClick:function(){return e.apply(this,arguments)}},"Logout")),r.a.createElement("li",{className:"LinkBtn",id:"UserDetails",style:{display:"none"}}))},v=function(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),n=t[0],c=t[1],l=Object(a.useRef)(null);function o(){return(o=Object(p.a)(E.a.mark((function e(){var t,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.firestore().collection("math-user-db").where("email","==",n).get().then((function(e){e.docs.forEach((function(e){t=e.data().user_id}))}));case 2:if(a=0,r=0,!t){e.next=8;break}return e.next=7,y.firestore().collection("math-question-db").where("user_id","==",t).get().then((function(e){e.docs.forEach((function(e){1===e.data().result&&(a+=1),r+=1}))}));case 7:u(a,r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,t){document.querySelectorAll(".results")[0].style.display="block";var n="You scored "+e+" correct",a="You scored "+(t-e)+" incorrect",r="Score is "+Math.floor(100*e/t)+"%";document.getElementById("correct").innerHTML=n,document.getElementById("incorrect").innerHTML=a,document.getElementById("total").innerHTML=r}return Object(a.useEffect)((function(){return l.current=!0,y.auth().onAuthStateChanged((function(e){e?l.current&&(c(e.email),function(){o.apply(this,arguments)}()):l.current&&(c(""),document.querySelectorAll(".results")[0].style.display="none")})),function(){return l.current=!1}})),r.a.createElement("div",{className:"Dashboard"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h1",null,"Dashboard"),r.a.createElement("div",{className:"results",style:{display:"none"}},r.a.createElement("p",{id:"correct",style:{color:"green"}}),r.a.createElement("p",{id:"incorrect",style:{color:"red"}}),r.a.createElement("p",{id:"total"})))},B=function(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(""),o=Object(f.a)(l,2),u=o[0],s=o[1],i=Object(a.useState)(""),m=Object(f.a)(i,2),d=m[0],b=m[1];function h(){return(h=Object(p.a)(E.a.mark((function e(t){var a,r,l,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),document.getElementById("errorID").innerHTML="",a=1,""===n&&(document.getElementById("errorID").innerHTML+="<br> email cannot be blank",a=0,c("")),""!==u&&""!==d||(document.getElementById("errorID").innerHTML+="<br> password cannot be blank",a=0),u!==d&&(document.getElementById("errorID").innerHTML+="<br> passwords dont match",a=0),u.length<6&&(document.getElementById("errorID").innerHTML+="<br> passwords must be > 6 characters",a=0),n.includes("@")||(document.getElementById("errorID").innerHTML+="<br> "+n+" is an invalid email",a=0),r=0,e.next=11,y.firestore().collection("math-user-db").get().then((function(e){e.docs.forEach((function(e){r+=1,n===e.data().email&&(document.getElementById("errorID").innerHTML+="<br> we already have an account for "+n,a=0)}))}));case 11:r+=1,1===a&&(y.firestore().collection("math-user-db").add({email:n,password:u,user_id:r}).then((function(){c(""),s("")})),y.auth().createUserWithEmailAndPassword(n,u).then((function(e){console.log(e.user)})).catch((function(e){l=e.code,o=e.message})),l&&(document.getElementById("errorID").innerHTML=l,document.getElementById("errorID").innerHTML+="<br>"+o)),s(""),b("");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"CreateAccount"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h1",null,"CreateAccount"),r.a.createElement("p",{id:"errorID",style:{color:"red"}}),r.a.createElement("form",{onSubmit:function(e){return h.apply(this,arguments)}},r.a.createElement("label",null,"email:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:n,onChange:function(e){return c(e.currentTarget.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"password:"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",value:u,onChange:function(e){return s(e.currentTarget.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"password confirm:"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",value:d,onChange:function(e){return b(e.currentTarget.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",null,"create account")))},D=function(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(""),o=Object(f.a)(l,2),u=o[0],s=o[1];function i(){return(i=Object(p.a)(E.a.mark((function e(t){var a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,y.auth().signInWithEmailAndPassword(n,u).then((function(e){console.log(e.user)})).catch((function(e){a=e.code,r=e.message}));case 3:a&&(document.getElementById("errorID").innerHTML=a,document.getElementById("errorID").innerHTML+="<br>"+r),c(""),s("");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"Login"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:function(e){return i.apply(this,arguments)}},r.a.createElement("p",{id:"errorID",style:{color:"red"}}),r.a.createElement("label",null,"email:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:n,onChange:function(e){return c(e.currentTarget.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"password:"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",value:u,onChange:function(e){return s(e.currentTarget.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",null,"login")))},k=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,null,r.a.createElement(w,null),r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/",component:I,exact:!0}),r.a.createElement(d.a,{path:"/Dashboard",component:v,exact:!0}),r.a.createElement(d.a,{path:"/CreateAccount",component:B,exact:!0}),r.a.createElement(d.a,{path:"/Login",component:D,exact:!0}))))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.5e7bf20c.chunk.js.map